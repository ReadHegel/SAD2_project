---
title: "sad"
author: "Marcin Stopka, Franciszek Sobota, Grzegorz Dolanowski"
date: "2026-01-10"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

#install.packages("here")
#install.packages("ggplot2")
#install.packages("dplyr")
#install.packages("fastDummies")


library(here)
library(ggplot2)
library(dplyr)
library(GGally)
library(fastDummies)

data <- read.csv(here("task1", "all_data.csv"))

```

# Graph Metrics

We can see that the two graph metrics are very similar on the following plot.
```{r}
ggplot(data, aes(x=jaccard_result, y=jaccard_weighted_result)) + geom_point()
```
they are even exactly the same most of the time
```{r}
mean(data$jaccard_result == data$jaccard_weighted_result)
```

# Achieved results

The achieved results aren't very good, the median is low.
```{r}
summary(data$jaccard_result)
```
```{r}
ggplot(data, aes(x="", y=jaccard_result)) + 
  geom_violin()
```

# Effect of sampling frequency

We can see on the plots that if time between sampling increases, the results get worse.
```{r}
ggplot(data, aes(x=factor(freq), y=jaccard_result)) + 
  geom_violin()
```

We can test if the correlation is negative and we get
```{r}
tst <- cor.test(data$freq, data$jaccard_result, method = "spearman")
tst
```
with low p-value of `r tst$p.value``

# Effect of number of variables

For some reason the results are best when using 7 variables.
```{r}
ggplot(data, aes(x=factor(var_num), y=jaccard_result)) + 
  geom_violin()
```

but the correlation is test does not give anything conclusive
```{r}
cor.test(data$var_num, data$jaccard_result, method = "spearman")
```

# Effect of mode

Intuitively the asynchronous should give better results because it can give more data and synchronous can get stuck in a loop. But the plot shows that the opposite is true and synchronous has better scores.
```{r}
ggplot(data, aes(x=mode, y=jaccard_result)) + 
  geom_violin()
```

We can see also that lots of scores are zeros. We can test if the mode is independent of the score being zero
```{r}
data_with_zero_jaccard <- data %>% mutate(jaccard_zero = (jaccard_result==0))
contingency_table <- table(data_with_zero_jaccard$mode, data_with_zero_jaccard$jaccard_zero)
chisq.test(contingency_table)
```
```{r}
contingency_table
```
But we can actually see that synchronous gathering actually increases the risk of having zero score.